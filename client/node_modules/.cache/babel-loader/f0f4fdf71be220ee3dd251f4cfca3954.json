{"ast":null,"code":"import _toConsumableArray from\"/Users/ianclark226/code/GoogleBookSearch/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/ianclark226/code/GoogleBookSearch/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ianclark226/code/GoogleBookSearch/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ianclark226/code/GoogleBookSearch/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ianclark226/code/GoogleBookSearch/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";//\nimport React,{Component}from'react';import BookList from'./BookList';import SearchBox from'./SearchBox';import request from'superagent';var Books=/*#__PURE__*/function(_Component){_inherits(Books,_Component);var _super=_createSuper(Books);function Books(props){var _this;_classCallCheck(this,Books);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();request.get(\"https://www.googleapis.com/books/v1/volumes\").query({q:_this.state.searchField}).then(function(data){console.log(data);_this.setState({books:_toConsumableArray(data.body.items)});});};_this.handleChange=function(e){_this.setState({searchField:e.target.value});};_this.handleSort=function(e){_this.setState({sort:e.target.value});};_this.state={books:[],searchField:'',sort:''};return _this;}// componentDidMount() {\n//     request\n//         .get(\"https://www.googleapis.com/books/v1/volumes\")\n//         .query({ q: this.state.searchField })\n//         .then((data) => {\n//             this.setState({ books: [...data.body.items] })\n//         })\n// }\n_createClass(Books,[{key:\"render\",value:function render(){var _this2=this;var filteredBooks=this.state.books.sort(function(a,b){if(_this2.state.sort==='Newest'){console.log(\"in newest\");return parseInt(b.volumeInfo.publishedDate.substring(0,4))-parseInt(a.volumeInfo.publishedDate.substring(0,4));}else if(_this2.state.sort==='Oldest'){return parseInt(a.volumeInfo.publishedDate.substring(0,4))-parseInt(b.volumeInfo.publishedDate.substring(0,4));}return;});return/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(SearchBox,{data:this.state,handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleSort:this.handleSort}),/*#__PURE__*/React.createElement(BookList,{books:filteredBooks}));}}]);return Books;}(Component);export default Books;","map":{"version":3,"sources":["/Users/ianclark226/code/GoogleBookSearch/google-books/client/src/components/Books.js"],"names":["React","Component","BookList","SearchBox","request","Books","props","handleSubmit","e","preventDefault","get","query","q","state","searchField","then","data","console","log","setState","books","body","items","handleChange","target","value","handleSort","sort","filteredBooks","a","b","parseInt","volumeInfo","publishedDate","substring"],"mappings":"u3BAAA;AAEA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,C,GAEMC,CAAAA,K,8FAEF,eAAYC,KAAZ,CAAkB,uCACd,uBAAMA,KAAN,EADc,MAiBlBC,YAjBkB,CAiBH,SAACC,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACAL,OAAO,CACFM,GADL,CACS,6CADT,EAEKC,KAFL,CAEW,CAAEC,CAAC,CAAE,MAAKC,KAAL,CAAWC,WAAhB,CAFX,EAGKC,IAHL,CAGU,SAACC,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAKG,QAAL,CAAc,CAAEC,KAAK,oBAAMJ,IAAI,CAACK,IAAL,CAAUC,KAAhB,CAAP,CAAd,EACP,CAND,EAOH,CA1BiB,OA4BlBC,YA5BkB,CA4BH,SAACf,CAAD,CAAO,CAClB,MAAKW,QAAL,CAAc,CAAEL,WAAW,CAAEN,CAAC,CAACgB,MAAF,CAASC,KAAxB,CAAd,EACH,CA9BiB,OAgClBC,UAhCkB,CAgCL,SAAClB,CAAD,CAAO,CAChB,MAAKW,QAAL,CAAc,CAAEQ,IAAI,CAAEnB,CAAC,CAACgB,MAAF,CAASC,KAAjB,CAAd,EACH,CAlCiB,CAEd,MAAKZ,KAAL,CAAa,CACTO,KAAK,CAAE,EADE,CAETN,WAAW,CAAE,EAFJ,CAGTa,IAAI,CAAE,EAHG,CAAb,CAFc,aAOjB,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;yDAsBS,iBACL,GAAMC,CAAAA,aAAa,CAAG,KAAKf,KAAL,CAAWO,KAAX,CAAiBO,IAAjB,CAAsB,SAACE,CAAD,CAAIC,CAAJ,CAAU,CAClD,GAAG,MAAI,CAACjB,KAAL,CAAWc,IAAX,GAAoB,QAAvB,CAAgC,CAC5BV,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA,MAAOa,CAAAA,QAAQ,CAACD,CAAC,CAACE,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,CAAwC,CAAxC,CAAD,CAAR,CAAuDH,QAAQ,CAACF,CAAC,CAACG,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,CAAwC,CAAxC,CAAD,CAAtE,CACH,CAHD,IAIK,IAAG,MAAI,CAACrB,KAAL,CAAWc,IAAX,GAAoB,QAAvB,CAAgC,CACjC,MAAOI,CAAAA,QAAQ,CAACF,CAAC,CAACG,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,CAAwC,CAAxC,CAAD,CAAR,CAAuDH,QAAQ,CAACD,CAAC,CAACE,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,CAAwC,CAAxC,CAAD,CAAtE,CACH,CAEH,OACD,CAVqB,CAAtB,CAYA,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,oBAAC,SAAD,EACI,IAAI,CAAE,KAAKrB,KADf,CAEI,YAAY,CAAE,KAAKN,YAFvB,CAGI,YAAY,CAAE,KAAKgB,YAHvB,CAII,UAAU,CAAE,KAAKG,UAJrB,EADJ,cAOI,oBAAC,QAAD,EAAU,KAAK,CAAEE,aAAjB,EAPJ,CADJ,CAWH,C,mBA/De3B,S,EAkEpB,cAAeI,CAAAA,KAAf","sourcesContent":["//\n\nimport React, { Component } from 'react';\nimport BookList from './BookList';\nimport SearchBox from './SearchBox';\nimport request from 'superagent';\n\nclass Books extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            books: [],\n            searchField: '',\n            sort: ''\n        }\n    }\n    // componentDidMount() {\n    //     request\n    //         .get(\"https://www.googleapis.com/books/v1/volumes\")\n    //         .query({ q: this.state.searchField })\n    //         .then((data) => {\n    //             this.setState({ books: [...data.body.items] })\n    //         })\n    // }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        request\n            .get(\"https://www.googleapis.com/books/v1/volumes\")\n            .query({ q: this.state.searchField })\n            .then((data) => {\n                console.log(data);\n                this.setState({ books: [...data.body.items] })\n        })\n    }\n\n    handleChange = (e) => {\n        this.setState({ searchField: e.target.value })\n    }\n\n    handleSort = (e) => {\n        this.setState({ sort: e.target.value});\n    }\n    \n\n    render() {\n        const filteredBooks = this.state.books.sort((a, b) => {\n            if(this.state.sort === 'Newest'){\n                console.log(\"in newest\")\n                return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n            }\n            else if(this.state.sort === 'Oldest'){\n                return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n            }\n          \n          return;\n        })\n\n        return (\n            <div className=\"wrapper\">\n                <SearchBox \n                    data={this.state} \n                    handleSubmit={this.handleSubmit} \n                    handleChange={this.handleChange} \n                    handleSort={this.handleSort}\n                />\n                <BookList books={filteredBooks}/>\n            </div>\n        );\n    }\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}